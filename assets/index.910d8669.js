var st=Object.defineProperty;var it=(n,t,e)=>t in n?st(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var d=(n,t,e)=>(it(n,typeof t!="symbol"?t+"":t,e),e);import{o as m,c as f,a,d as K,t as ot,u as l,r as nt,b as x,e as H,f as Q,w as at,g as F,h as J,i as W,j as M,v as N,k as D,l as lt,n as U,F as X,m as Y,p as rt,q as ct,s as ut,x as dt}from"./vendor.04f42a48.js";const ht=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}};ht();var O=(n,t)=>{const e=n.__vccOpts||n;for(const[i,s]of t)e[i]=s;return e};const gt={},mt={t:"1648282494646",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"27796",width:"24",height:"24"},ft=a("path",{d:"M814.783934 597.333511H249.877502a21.333324 21.333324 0 0 0-21.333324 21.333325V981.333351a42.666649 42.666649 0 0 1-85.333298 0V128.000373a127.999947 127.999947 0 0 1 127.999947-127.999946h542.293107a63.999973 63.999973 0 0 1 58.879976 89.599962l-81.919966 188.159922a42.666649 42.666649 0 0 0 0 33.706653l85.333297 197.119917A63.999973 63.999973 0 0 1 814.783934 597.333511z",fill:"#d81e06","p-id":"27797"},null,-1),_t=[ft];function pt(n,t){return m(),f("svg",mt,_t)}var vt=O(gt,[["render",pt]]);const Ct={key:0,t:"1648282722103",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"28892",width:"24",height:"24"},bt=a("path",{d:"M881 177l-104 104L830 334c18.8 18.8 18.8 49.2 0 67.8l-34.8 34.8c23.6 52.2 36.8 110.2 36.8 171.2 0 229.8-186.2 416-416 416S0 837.8 0 608 186.2 192 416 192c61 0 119 13.2 171.2 36.8L622 194c18.8-18.8 49.2-18.8 67.8 0l53 53 104-104 34.2 34zM1000 120h-48c-13.2 0-24 10.8-24 24s10.8 24 24 24h48c13.2 0 24-10.8 24-24s-10.8-24-24-24zM880 0c-13.2 0-24 10.8-24 24v48c0 13.2 10.8 24 24 24s24-10.8 24-24V24c0-13.2-10.8-24-24-24z m67.8 110l34-34c9.4-9.4 9.4-24.6 0-34-9.4-9.4-24.6-9.4-34 0l-34 34c-9.4 9.4-9.4 24.6 0 34 9.6 9.4 24.8 9.4 34 0z m-135.6 0c9.4 9.4 24.6 9.4 34 0 9.4-9.4 9.4-24.6 0-34l-34-34c-9.4-9.4-24.6-9.4-34 0-9.4 9.4-9.4 24.6 0 34l34 34z m135.6 68c-9.4-9.4-24.6-9.4-34 0-9.4 9.4-9.4 24.6 0 34l34 34c9.4 9.4 24.6 9.4 34 0 9.4-9.4 9.4-24.6 0-34l-34-34zM224 544c0-70.6 57.4-128 128-128 17.6 0 32-14.4 32-32s-14.4-32-32-32c-105.8 0-192 86.2-192 192 0 17.6 14.4 32 32 32s32-14.4 32-32z",fill:"#2c2c2c","p-id":"28893"},null,-1),xt=[bt],wt={key:1,t:"1648374178158",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1253",width:"24",height:"24"},St=a("path",{d:"M326.285714 336.571429q-5.714286-14.285714-19.428571-20t-28 0q-61.714286 25.142857-109.142857 72.571428T97.142857 498.285714q-5.714286 14.285714 0 28t20 19.428572q7.428571 2.857143 13.714286 2.857143 24 0 34.285714-22.857143 19.428571-48 56.285714-84.857143T306.285714 384.571429q14.285714-6.285714 20-20t0-28z m538.285715-203.428572l26.285714 26.285714-139.428572 138.857143 38.857143 38.857143q10.857143 10.857143 10.857143 26t-10.857143 26l-36.571428 36.571429q50.857143 92 50.857143 196 0 81.714286-31.714286 156.285714t-85.714286 128.571429-128.571428 85.714285T402.285714 1024t-156.285714-31.714286-128.571429-85.714285-85.714285-128.571429T0 621.714286t31.714286-156.285715 85.714285-128.571428 128.571429-85.714286T402.285714 219.428571q104 0 196 50.857143l36.571429-36.571428q10.857143-10.857143 26-10.857143t26 10.857143l38.857143 38.857143z m4.571428-32q-5.714286 5.714286-12.571428 5.714286-7.428571 0-13.142858-5.714286l-52-51.428571q-5.142857-5.714286-5.142857-13.142857t5.142857-13.142858q5.714286-5.142857 13.142858-5.142857t13.142857 5.142857l51.428571 52q5.714286 5.142857 5.714286 12.857143t-5.714286 12.857143z m131.428572 131.428572q-6.285714 5.142857-13.142858 5.142857t-13.142857-5.142857l-51.428571-52q-5.714286-5.142857-5.714286-12.857143t5.714286-12.857143q5.142857-5.714286 12.857143-5.714286t12.857143 5.714286l52 51.428571q5.142857 5.714286 5.142857 13.142857t-5.142857 13.142858z m23.428571-104.571429q0 8-5.142857 13.142857t-13.142857 5.142857h-54.857143q-8 0-13.142857-5.142857t-5.142857-13.142857 5.142857-13.142857 13.142857-5.142857h54.857143q8 0 13.142857 5.142857t5.142857 13.142857zM914.285714 18.285714v54.857143q0 8-5.142857 13.142857t-13.142857 5.142857-13.142857-5.142857-5.142857-13.142857V18.285714q0-8 5.142857-13.142857t13.142857-5.142857 13.142857 5.142857 5.142857 13.142857z m86.285715 31.428572l-52 51.428571q-5.714286 5.714286-12.571429 5.714286-7.428571 0-13.142857-5.714286-5.714286-5.142857-5.714286-12.857143t5.714286-12.857143l51.428571-52q5.714286-5.142857 13.142857-5.142857t13.142858 5.142857q5.142857 5.714286 5.142857 13.142858t-5.142857 13.142857z","p-id":"1254",fill:"#ffffff"},null,-1),yt=[St],Z=K({props:{theme:String},setup(n){const t=n,{theme:e}=ot(t);return(i,s)=>l(e)==="light"?(m(),f("svg",Ct,xt)):(m(),f("svg",wt,yt))}}),kt={},Bt={t:"1648375475598",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4958",width:"24",height:"24"},Ft=a("path",{d:"M863.973001 448.017999c-14.591544 0-27.007156 4.303866-36.942846 9.711697a317.190088 317.190088 0 0 0-18.911409-66.733915c6.367801-10.767664 14.655542-21.471329 24.687229-27.279147 35.102903-20.271367 52.270367 6.783788 99.132902-20.287366 25.103216-14.495547 38.254805-61.726071 23.423268-87.437268-103.05278 59.51814-115.996375-6.927784-170.55467 24.575232a76.573607 76.573607 0 0 0-27.023156 26.655167 321.829943 321.829943 0 0 0-49.838442-47.822505c0.095997-12.575607 1.903941-26.127184 7.743758-36.238868 20.271367-35.118903 48.65448-20.287366 75.709634-67.133902 14.495547-25.103216 2.271929-72.573732-23.423268-87.421268-59.502141 103.05278-103.932752 52.014375-135.419768 106.57267a76.733602 76.733602 0 0 0-10.063686 36.830849 316.950095 316.950095 0 0 0-67.021905-16.703478c-6.223806-10.959658-11.487641-23.567264-11.487641-35.278898 0-40.542733 31.999-41.886691 31.999-95.997C575.982001 35.022906 541.647074 0.016 511.984 0.016c0 119.004281-63.998 97.004969-63.998 160.010999 0 14.591544 4.303866 26.991157 9.695697 36.926846-23.167276 3.967876-45.534577 10.23968-66.717915 18.911409-10.767664-6.351802-21.471329-14.639543-27.263148-24.671229-20.271367-35.118903 6.767789-52.270367-20.287366-99.132902C328.917721 66.925909 281.687197 53.77432 255.992 68.605856c59.502141 103.05278-6.927784 116.012375 24.575232 170.57067a76.829599 76.829599 0 0 0 26.655167 27.023155 321.829943 321.829943 0 0 0-47.822505 49.838443c-12.591607-0.095997-26.127184-1.903941-36.238868-7.743758-35.118903-20.287366-20.271367-48.65448-67.133902-75.709634-25.119215-14.495547-72.605731-2.271929-87.437267 23.423268 103.05278 59.502141 51.998375 103.932752 106.55667 135.435767a76.7976 76.7976 0 0 0 36.846848 10.063686 317.910065 317.910065 0 0 0-16.703478 67.021905c-10.975657 6.223806-23.583263 11.487641-35.294897 11.487641-40.542733 0-41.870692-31.999-95.997-31.999-29.007094 0-63.998 34.318928-63.998 63.982001 118.988282 0 97.004969 64.014 159.995 64.014 14.591544 0 27.007156-4.303866 36.942846-9.711697 3.967876 23.167276 10.23968 45.518578 18.895409 66.701916-6.351802 10.767664-14.639543 21.487329-24.687228 27.295147-35.118903 20.271367-52.270367-6.783788-99.132902 20.287366-25.119215 14.479548-38.270804 61.726071-23.423268 87.405268 103.05278-59.502141 115.996375 6.927784 170.570669-24.575232a76.669604 76.669604 0 0 0 27.023156-26.639167 320.997969 320.997969 0 0 0 49.838442 47.806506c-0.111997 12.591607-1.903941 26.127184-7.743758 36.254867-20.271367 35.118903-48.65448 20.271367-75.709634 67.133902-14.495547 25.103216-2.271929 72.589732 23.423268 87.421268 59.502141-103.03678 103.932752-51.998375 135.419768-106.540671a76.845599 76.845599 0 0 0 10.063686-36.862848c21.375332 7.871754 43.758633 13.535577 67.005906 16.703478 6.223806 10.975657 11.503641 23.583263 11.50364 35.310897 0 40.542733-31.999 41.870692-31.999 95.997 0 29.007094 34.318928 63.998 63.998 63.998 0-119.004281 63.998-97.004969 63.998001-159.995 0-14.607544-4.303866-27.007156-9.711697-36.958845a318.246055 318.246055 0 0 0 66.717915-18.89541c10.767664 6.351802 21.487329 14.639543 27.279148 24.687229 20.271367 35.118903-6.767789 52.270367 20.287366 99.132902 14.495547 25.119215 61.726071 38.270804 87.421268 23.439267-59.502141-103.05278 6.927784-116.012375-24.575232-170.570669a76.701603 76.701603 0 0 0-26.655167-27.023156 321.829943 321.829943 0 0 0 47.822505-49.838442c12.575607 0.095997 26.127184 1.903941 36.238868 7.743758 35.118903 20.287366 20.271367 48.65448 67.133902 75.709634 25.119215 14.479548 72.589732 2.271929 87.437267-23.423268-103.05278-59.502141-51.998375-103.932752-106.55667-135.419768a76.605606 76.605606 0 0 0-36.846848-10.063686 318.006062 318.006062 0 0 0 16.703478-67.005906c10.975657-6.239805 23.583263-11.503641 35.294897-11.50364 40.542733 0 41.870692 31.999 95.997 31.999 29.007094 0 63.998-34.334927 63.998-63.998-118.988282 0-96.988969-63.998-159.995-63.998001z",fill:"#FFCC66","p-id":"4959"},null,-1),Et=[Ft];function At(n,t){return m(),f("svg",Bt,Et)}var Gt=O(kt,[["render",At]]);const zt={},$t={t:"1648375578144",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7230",width:"24",height:"24"},qt=a("path",{d:"M356.62695312 273.73730469c0-50.16796875 9.38671875-98.13867188 26.49902344-142.26855469-147.22558594 57.00585938-251.63085938 199.95996094-251.63085937 367.3125 0 217.45898438 176.29101563 393.75 393.75 393.75 167.29101563 0 310.20996094-104.33496094 367.25097656-251.48144531-44.0859375 17.06835938-92.01269531 26.4375-142.12792969 26.4375-217.45019531 0-393.74121094-176.28222656-393.74121094-393.75z",fill:"#FFD500","p-id":"7231"},null,-1),Pt=[qt];function Lt(n,t){return m(),f("svg",$t,Pt)}var Mt=O(zt,[["render",Lt]]);class Dt{constructor(t,e){d(this,"_revealed",!1);d(this,"_mine",!1);d(this,"_mineCount",-1);d(this,"_flagged",!1);this.position=t,this.chessboard=e}get revealed(){return this._revealed}set revealed(t){!this._revealed&&!this._flagged&&t&&(this._revealed=t,this.chessboard.onBlockRevealed())}get mine(){return this._mine}set mine(t){t&&(this._mine=t,this._mineCount=-1)}get mineCount(){return this._mineCount}set mineCount(t){t>=-1&&t<=8&&(this._mineCount=t)}get flagged(){return this._flagged}set flagged(t){this._revealed||(this._flagged=t,this.chessboard.onBlockFlagged(t))}isSafeBlock(){return this._mineCount===0}isUnsafeBlock(){return this._mineCount>0}isMine(){return this._mine}}const z=class{constructor(t,e){this.x=t,this.y=e}addPosition(t){return new z(this.x+t.x,this.y+t.y)}getSiblingPositions(){return z.DIRECTIONS.map(t=>t.addPosition(this))}verifyPosition(t,e){return this.x>=0&&this.x<t&&this.y>=0&&this.y<e}equals(t){return this.x===t.x&&this.y===t.y}};let E=z;d(E,"DIRECTIONS",[[-1,0],[1,0],[0,-1],[0,1],[-1,-1],[1,1],[-1,1],[1,-1]].map(t=>new z(...t)));class Tt extends Error{}function Ot(n,t,e,i){const s=Array.from({length:t-n+1},(o,r)=>r+n);if(s.splice(i-n,1),e>t-n+1)return s;for(let o=0;o<e;o++){const r=Math.floor(Math.random()*s.length),_=s[r];s[r]=s[s.length-o-1],s[s.length-o-1]=_}return s.slice(s.length-e)}function Rt(n,t){const e=[];for(let i=0;i<n.length;i++){const s=n[i];e.push(new E(Math.floor(s/t),s%t))}return e}class R{constructor(t,e,i){d(this,"unrevealed",-1);d(this,"status","none");d(this,"board",[]);d(this,"flagCount",0);d(this,"rows");d(this,"cols");d(this,"mineCount");this.rows=t,this.cols=e,this.mineCount=i}static createChessBoard(t,e,i){const s=[{rule:()=>t>5,message:"\u68CB\u76D8\u4E0D\u80FD\u5C11\u4E8E 5 \u884C"},{rule:()=>e>5,message:"\u68CB\u76D8\u4E0D\u80FD\u5C11\u4E8E 5 \u5217"},{rule:()=>i>0,message:"\u96F7\u7684\u6570\u91CF\u4E0D\u80FD\u5C11\u4E8E 0"},{rule:()=>i<t*e,message:"\u96F7\u7684\u6570\u91CF\u4E0D\u80FD\u591A\u4E8E\u68CB\u76D8\u7684\u5BB9\u91CF"}];for(const o of s)if(!o.rule())throw new Tt(o.message);return new R(t,e,i)}access(t){return t.verifyPosition(this.rows,this.cols)?this.board[t.x][t.y]:null}getSiblingBlocks(t){return t.getSiblingPositions().filter(s=>s.verifyPosition(this.rows,this.cols)).map(s=>this.access(s))}initLayout(){this.reset();for(let t=0;t<this.rows;t++){const e=[];for(let i=0;i<this.cols;i++){const s=new Dt(new E(t,i),this);e.push(s)}this.board.push(e)}this.unrevealed=this.rows*this.cols,this.flagCount=0}initContent(t){const e=t.x*this.cols+t.y,i=this.rows*this.cols,s=Rt(Ot(0,i-1,this.mineCount,e),this.cols);for(const o of s){const r=this.access(o);r.mine=!0,r.mineCount=-1}for(let o=0;o<this.rows;o++)for(let r=0;r<this.cols;r++){const _=this.access(new E(o,r));if(!_.mine){const p=this.getSiblingBlocks(_.position);_.mineCount=p.reduce((w,v)=>w+Number(v.mine),0)}}}reset(){this.board.length>0&&(this.board.length=0)}onBlockRevealed(){this.unrevealed--}onBlockFlagged(t){t?this.flagCount++:this.flagCount++}judgeFailOrSuccess(t){this.access(t).mine&&(this.status="fail"),this.unrevealed===this.mineCount&&(this.status="success")}revealBlock(t){const e=this.access(t);if(!!e&&!e.revealed&&!e.flagged){if(e.revealed=!0,this.judgeFailOrSuccess(e.position),e.isSafeBlock()){const i=[e.position],s=e.position.getSiblingPositions().filter(o=>o.verifyPosition(this.rows,this.cols));for(;s.length;){const o=s.shift();if(o.verifyPosition(this.rows,this.cols)){const r=this.access(o);if(r.revealed=!0,i.push(o),r.isSafeBlock()){const _=r.position.getSiblingPositions().filter(p=>p.verifyPosition(this.rows,this.cols));for(const p of _){const w=i.some(S=>S.equals(p)),v=s.some(S=>S.equals(p));!w&&!v&&s.push(p)}}}}}this.judgeFailOrSuccess(e.position)}}revealAllBlocks(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.cols;e++){const i=this.access(new E(t,e));i.flagged=!1,i.revealed=!0}this.unrevealed=0}revealSiblingBlocks(t){const e=this.access(t);if(!e.revealed||!e.isUnsafeBlock())return;const i=this.getSiblingBlocks(t);if(i.reduce((o,r)=>o+Number(r.flagged),0)>=e.mineCount)for(const o of i)o.flagged||this.revealBlock(o.position)}}class Vt{constructor(){d(this,"chessboard",R.createChessBoard(9,9,10));d(this,"gameState")}getGameState(){return this.gameState}setGameState(t){this.gameState=t,this.gameState.setGameContext(this)}initArguments(t,e,i){this.gameState.initArguments(t,e,i)}initLayout(){this.gameState.initLayout()}initContent(t){this.gameState.initContent(t)}revealBlock(t){this.gameState.revealBlock(t)}revealSiblingBlocks(t){this.gameState.revealSiblingBlocks(t)}toggleFlag(t){this.gameState.toggleFlag(t)}succeed(){this.gameState.succeed()}fail(){this.gameState.fail()}restart(){this.gameState.restart()}}class jt extends Error{constructor(t,e){super(e);this.error=t}}class G{constructor(){d(this,"gameContext")}getGameContext(){return this.gameContext}setGameContext(t){this.gameContext=t}}class tt extends G{constructor(){super(...arguments);d(this,"state","LaunchedState")}initArguments(t,e,i){this.gameContext.setGameState(new P),this.gameContext.initArguments(t,e,i)}initLayout(){}initContent(t){}revealBlock(t){}revealSiblingBlocks(t){}toggleFlag(t){}succeed(){}fail(){}restart(){}}class $ extends G{constructor(){super(...arguments);d(this,"state","GameSuccessState")}initArguments(t,e,i){this.gameContext.setGameState(new P),this.gameContext.initArguments(t,e,i)}initLayout(){}initContent(t){}revealBlock(t){}revealSiblingBlocks(t){}toggleFlag(t){}succeed(){this.gameContext.chessboard.revealAllBlocks()}fail(){}restart(){this.gameContext.setGameState(new q),this.gameContext.restart()}}class T extends G{constructor(){super(...arguments);d(this,"state","GameReadyState")}initArguments(t,e,i){this.gameContext.setGameState(new P),this.gameContext.initArguments(t,e,i)}initLayout(){}initContent(t){this.gameContext.chessboard.initContent(t)}revealBlock(t){this.gameContext.chessboard.revealBlock(t),this.gameContext.chessboard.judgeFailOrSuccess(t);const{status:e}=this.gameContext.chessboard;e==="success"?(this.gameContext.setGameState(new $),this.gameContext.succeed()):e==="fail"&&(this.gameContext.setGameState(new A),this.gameContext.fail())}revealSiblingBlocks(t){this.gameContext.chessboard.revealSiblingBlocks(t),this.gameContext.chessboard.judgeFailOrSuccess(t);const{status:e}=this.gameContext.chessboard;e==="success"?(this.gameContext.setGameState(new $),this.gameContext.succeed()):e==="fail"&&(this.gameContext.setGameState(new A),this.gameContext.fail())}toggleFlag(t){const e=this.gameContext.chessboard.access(t);!e||(e.flagged=!e.flagged)}succeed(){}fail(){}restart(){this.gameContext.setGameState(new q),this.gameContext.restart()}}class q extends G{constructor(){super(...arguments);d(this,"state","LayoutReadyState")}initArguments(t,e,i){this.gameContext.setGameState(new P),this.gameContext.initArguments(t,e,i)}initLayout(){this.gameContext.chessboard.initLayout()}initContent(t){this.gameContext.setGameState(new T),this.gameContext.initContent(t)}revealBlock(t){this.initContent(t),this.gameContext.revealBlock(t)}revealSiblingBlocks(t){}toggleFlag(t){}succeed(){}fail(){}restart(){this.gameContext.chessboard.reset(),this.initLayout()}}class P extends G{constructor(){super(...arguments);d(this,"state","ArgumentsReadyState")}initArguments(t,e,i){try{const s=R.createChessBoard(t,e,i);this.gameContext.chessboard=s}catch(s){this.gameContext.setGameState(new tt);const o="\u8F6C\u6362\u5230 ArgumentsReadyState \u5931\u8D25";throw new jt(s,o)}}initLayout(){this.gameContext.setGameState(new q),this.gameContext.initLayout()}initContent(t){}revealBlock(t){}revealSiblingBlocks(t){}toggleFlag(t){}succeed(){}fail(){}restart(){}}class A extends G{constructor(){super(...arguments);d(this,"state","GameFailState")}initArguments(t,e,i){this.gameContext.setGameState(new P),this.gameContext.initArguments(t,e,i)}initLayout(){}initContent(t){}revealBlock(t){}revealSiblingBlocks(t){}toggleFlag(t){}succeed(){}fail(){this.gameContext.chessboard.revealAllBlocks()}restart(){this.gameContext.setGameState(new q),this.gameContext.restart()}}function It(){const n=new Vt;n.setGameState(new tt);const t=nt(n),e=x(()=>t.getGameState()),i=x({get:()=>t.chessboard?t.chessboard.rows:9,set:c=>{t.chessboard&&(t.chessboard.rows=c)}}),s=x({get:()=>t.chessboard?t.chessboard.cols:9,set:c=>{t.chessboard&&(t.chessboard.cols=c)}}),o=x({get:()=>t.chessboard?t.chessboard.mineCount:10,set:c=>{t.chessboard&&(t.chessboard.mineCount=c)}}),r=x(()=>t.chessboard?t.chessboard.flagCount:0),_=x(()=>t.chessboard),p=x(()=>[q,T,$,A].some(C=>t.getGameState()instanceof C)),w=x(()=>[T,$,A].some(C=>t.getGameState()instanceof C)),v=H([]);function S(c,C,u){t.initArguments(c,C,u),t.initLayout()}function y(c,C,u){try{t.initArguments(c,C,u)}catch(h){alert(h.error.message)}t.initLayout()}function L(c){c.revealed?c.isUnsafeBlock()&&t.revealSiblingBlocks(c.position):c.flagged||t.revealBlock(c.position)}function V(c){c.revealed||t.toggleFlag(c.position)}function j(c){if(c.revealed===!1)v.value.push(c.position);else if(c.isUnsafeBlock()){const C=Q(t.chessboard,"rows"),u=Q(t.chessboard,"cols"),h=c.position.getSiblingPositions().filter(k=>k.verifyPosition(C.value,u.value)).filter(k=>!t.chessboard.access(k).revealed);v.value.push(...h)}}function I(){v.value.length=0}return{currentGameContext:t,currentGameState:e,rows:i,cols:s,mineCount:o,flagCount:r,chessboard:_,showChessboard:p,showToolbox:w,focusedPositions:v,handleSubmitPreset:S,handleSubmitArguments:y,handleClickBlock:L,handleToggleFlag:V,handleMouseOver:j,handleMouseOut:I}}function Nt(){const n=H("light"),t=H(!1);return at(t,e=>{e?n.value="dark":n.value="light"}),{theme:n,changeThemeSwitch:t}}const b=n=>(rt("data-v-94e6d552"),n=n(),ct(),n),Ut={class:"banner-heading d-flex align-center"},Ht=b(()=>a("span",null,"MineSweeper",-1)),Kt=b(()=>a("div",{class:"spacer"},null,-1)),Qt={key:0,class:"toolbox d-flex align-center"},Jt={class:"toolbox-remaining-mine-count"},Wt={class:"configuration"},Xt=b(()=>a("span",{class:"configuration-dropdown-trigger"},"\u6E38\u620F\u8BBE\u7F6E",-1)),Yt={class:"configuration-dropdown-content"},Zt={class:"presets"},te=b(()=>a("h2",{class:"configuration-dropdown-content__title presets-title"}," \u9884\u8BBE\u6E38\u620F\u96BE\u5EA6 ",-1)),ee={class:"customization"},se=b(()=>a("h2",{class:"configuration-dropdown-content__title presets-title"}," \u81EA\u5B9A\u4E49 ",-1)),ie={class:"customization-input-wrapper"},oe={class:"customization-input customization-input__rows d-flex align-center"},ne=b(()=>a("label",{class:"customization-input-label",for:"customization-input__rows-input"}," \u884C\u6570\uFF1A ",-1)),ae={class:"customization-input customization-input__cols d-flex align-center"},le=b(()=>a("label",{class:"customization-input-label",for:"customization-input__cols-input"}," \u5217\u6570\uFF1A ",-1)),re={class:"customization-input customization-input__mine-count d-flex align-center"},ce=b(()=>a("label",{class:"customization-input-label",for:"customization-input__mine-count-input"}," \u70B8\u5F39\uFF1A ",-1)),ue={class:"customization-submit"},de={class:"change-theme d-flex align-center"},he={class:"change-theme-switch__wrapper"},ge=b(()=>a("div",{class:"change-theme-switch__slider"},null,-1)),me={class:"main d-flex align-center justify-center"},fe={key:0,class:"chessboard"},_e={class:"chessboard-inner-wrapper"},pe=["onClick","onContextmenu","onMouseover"],ve={key:0,class:"chessboard-block__unrevealed"},Ce={key:1,class:"chessboard-block__flagged d-flex align-center justify-center"},be={key:2,class:"chessboard-block__mine d-flex align-center justify-center"},xe={key:3,class:"chessboard-block__safe"},we={key:4,class:"chessboard-block__unsafe"},Se=K({setup(n){const{theme:t,changeThemeSwitch:e}=Nt(),{currentGameState:i,rows:s,cols:o,mineCount:r,flagCount:_,chessboard:p,showChessboard:w,showToolbox:v,focusedPositions:S,handleSubmitPreset:y,handleSubmitArguments:L,handleClickBlock:V,handleToggleFlag:j,handleMouseOver:I,handleMouseOut:c}=It();return(C,u)=>(m(),f("div",{id:"mine-sweeper",class:U(l(t))},[a("div",{class:U(["banner d-flex align-center",l(i)instanceof l($)?"success":l(i)instanceof l(A)?"fail":""])},[a("h1",Ut,[F(Z,{theme:l(t),class:"banner-heading__icon"},null,8,["theme"]),Ht]),Kt,l(v)?(m(),f("div",Qt,[a("span",Jt,J(l(i)instanceof l(T)?`[\u5269\u4F59\u70B8\u5F39\u6570] ${l(r)-l(_)}`:l(i)instanceof l(A)?"\u672C\u5C40\u6E38\u620F\u5931\u8D25":"\u672C\u5C40\u6E38\u620F\u80DC\u5229"),1),a("button",{class:"toolbox-restart",onClick:u[0]||(u[0]=h=>l(L)(l(s),l(o),l(r)))}," \u91CD\u5F00\u4E00\u5C40 ")])):W("",!0),a("div",Wt,[Xt,a("div",Yt,[a("div",Zt,[te,a("button",{class:"configuration-dropdown-content__button presets-beginner",onClick:u[1]||(u[1]=h=>l(y)(9,9,10))}," \u521D\u7EA7 "),a("button",{class:"configuration-dropdown-content__button presets-medium",onClick:u[2]||(u[2]=h=>l(y)(16,16,40))}," \u4E2D\u7EA7 "),a("button",{class:"configuration-dropdown-content__button presets-hard",onClick:u[3]||(u[3]=h=>l(y)(16,30,99))}," \u9AD8\u7EA7 "),a("button",{class:"configuration-dropdown-content__button presets-heil",onClick:u[4]||(u[4]=h=>l(y)(16,30,199))}," \u5730\u72F1 ")]),a("div",ee,[se,a("div",ie,[a("div",oe,[ne,M(a("input",{id:"customization-input__rows-input","onUpdate:modelValue":u[5]||(u[5]=h=>D(s)?s.value=h:null),type:"number"},null,512),[[N,l(s)]])]),a("div",ae,[le,M(a("input",{id:"customization-input__cols-input","onUpdate:modelValue":u[6]||(u[6]=h=>D(o)?o.value=h:null),type:"number"},null,512),[[N,l(o)]])]),a("div",re,[ce,M(a("input",{id:"customization-input__mine-count-input","onUpdate:modelValue":u[7]||(u[7]=h=>D(r)?r.value=h:null),type:"number"},null,512),[[N,l(r)]])]),a("div",ue,[a("button",{class:"customization-submit-button",onClick:u[8]||(u[8]=h=>l(L)(l(s),l(o),l(r)))}," \u4F7F\u7528\u81EA\u5B9A\u4E49\u96F7\u533A\u5F00\u59CB\u6E38\u620F ")])])])])]),a("div",de,[F(Gt),a("label",he,[M(a("input",{"onUpdate:modelValue":u[9]||(u[9]=h=>D(e)?e.value=h:null),class:"change-theme-switch__switcher",type:"checkbox"},null,512),[[lt,l(e)]]),ge]),F(Mt)])],2),a("div",me,[l(w)?(m(),f("div",fe,[a("div",_e,[(m(!0),f(X,null,Y(l(p).board,(h,k)=>(m(),f("div",{key:k,class:"chessboard-row d-flex align-start"},[(m(!0),f(X,null,Y(h,(g,et)=>(m(),f("div",{key:et,class:U(["chessboard-block d-inline-flex align-center justify-center",[l(S).some(B=>B.equals(g.position))?"focused":"",g.revealed&&g.isUnsafeBlock()?"mine"+g.mineCount:"",!g.revealed&&!g.flagged?"unrevealed":"",!g.revealed&&g.flagged?"flagged":""]]),onClick:B=>l(V)(g),onContextmenu:ut(B=>l(j)(g),["prevent"]),onMouseover:B=>l(I)(g),onMouseout:u[10]||(u[10]=(...B)=>l(c)&&l(c)(...B))},[!g.revealed&&!g.flagged?(m(),f("div",ve)):!g.revealed&&g.flagged?(m(),f("div",Ce,[F(vt)])):g.mine?(m(),f("div",be,[F(Z,{theme:l(t)},null,8,["theme"])])):g.mineCount===0?(m(),f("div",xe)):(m(),f("div",we,J(g.mineCount),1))],42,pe))),128))]))),128))])])):W("",!0)])],2))}});var ye=O(Se,[["__scopeId","data-v-94e6d552"]]);const ke={id:"root"},Be=K({setup(n){return(t,e)=>(m(),f("div",ke,[F(ye)]))}});dt(Be).mount("#app");
